<ion-header>
	<ion-navbar>
		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<ion-title>
			{{game?.title}}
		</ion-title>
	</ion-navbar>
</ion-header>

<ion-content no-bounce style="">

	<ion-card style="box-shadow: 0px 0px 0px 0px;">

		<ion-card-header >
			<!-- <h2 style=" color:#e11941; font-weight: 700; text-align: center; font-size: 23px;margin-bottom: 0px; padding-bottom: 0px!important;"><b>{{game?.title}}</b></h2> -->

			<h2 style="
			text-align: center;
			/*margin-top: 40px !important;*/
			font-size: 25px;
			font-family: 'Plutoblack';
			margin-bottom: 10px;
			color: #e11941;">{{game?.title}}</h2>
		</ion-card-header>

		<ion-card-content>
			<ion-list>
				<ion-item>
					<ion-thumbnail item-start>
						<img [src]="'http://fastclickapp.com.br/admin/upload/games/' + game?.picture">
					</ion-thumbnail>
					<h2 style="color: #666; padding-bottom: 20px;">Créditos para participar</h2>
					<h3 style="font-size: 22px; color:#e11941; font-weight: bold;">R$ {{parseInt(game?.minvalor) + (parseInt(game?.minvalor)*(etapa-1)*0.1)}}
						<button *ngIf="game?.status==3" (click)="openClassfication()" style="margin: 0px 0px;float: right;color: #fff;" color="primary" ion-button round>Ver Classificação</button>
					</h3>
					<hr>

					<p style="font-size: 22px; font-weight: bold; color:#e11941;">Etapa {{etapa}}/{{game?.etapas}}</p>
      
					
				</ion-item>
			</ion-list>
		</ion-card-content>

	</ion-card>
	<div padding *ngIf="game?.status==1 && join==false" style="text-align: center;">
		<h2 style="color: #333;"><b style="font-weight: 700;color: #e1183d;">Deseja entrar na partida?</b></h2>
		<button (click)="joinRoom()" round ion-button>
			Entrar na partida
		</button>
		<p>O jogo inicia quando um número suficiente de participantes entrarem.</p>

	</div>
	<div padding *ngIf="game?.status==1 && join!=false" style="text-align: center;">
		<h2 style="color: #333;"><b>Você já está inscrito</b></h2>
		<h3> Por favor aguarde o jogo começar. </h3>

	</div>
	<div *ngIf="game?.status==3">
	<div *ngIf="game?.statusGame=='1'">
		<h3 style="padding: 30px; text-align: center;">
			A próxima etapa começa<br>
			<b>{{nextStepTimeText}}</b>
		</h3>
	</div>
	<div *ngIf="game?.statusGame=='5'" class="card-aguarde" style="padding: 20px 40px;">
		<div class="icon-bolinha">
			<ion-icon name="clock"></ion-icon>
		</div>
		<h2 style="color: #e11941"><b>Por favor Aguarde</b></h2>
		<h3>
			A partida começa em:
		</h3>
		<h3>{{time_start}}s</h3>
	</div>
	<div *ngIf="game?.statusGame=='2'" class="card-player" style="padding: 10px 20px;">
		<h4 style="text-align: center;">
			Total de cliques: {{clicks}}
		</h4>
		<h1 style="color:#e11941;text-align: center;">
			<b>Clique no botão abaixo!</b>
		</h1>
		<br>
		<br>

		<button style="margin: 0 auto; width:60px; height:60px;display: block" (click)="clicks=clicks+1;" ion-button round large color="dark">
			<ion-icon name="ios-locate-outline"></ion-icon>
		</button>
		<br>

		<br>
		<p style="text-align: center;">
			Tempo Restante:
		</p>
		<div style="width: 100%;
		height: 25px; box-shadow: 0px 3px 4px rgba(0,0,0,0.2);
		background: #efefef; border-radius: 30px;">
		<div [style.width]="time_percent+'%'" style="
		height: 25px; min-width: 30px; background: #0FBA0A; border-radius: 30px; padding-right: 5px;">
		<p style="
		text-align: right;
		color: #fff;
		line-height: 26px;
		">{{time_game}}s</p>
	</div>
</div>	
</div>
</div>
</ion-content>
